{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///react-countdown-clock.js","webpack:///webpack/bootstrap 9c7b59193c9ac29c782f","webpack:///./react-countdown-clock.coffee","webpack:///external {\"root\":\"React\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\"}"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_1__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","React","createClass","_seconds","_radius","_fraction","_content","_canvas","_timeoutIds","displayName","propTypes","seconds","PropTypes","number","size","color","string","alpha","onComplete","func","getDefaultProps","componentWillReceiveProps","props","_setupTimer","componentDidMount","componentWillUnmount","_cancelTimer","_setScale","_setupCanvas","_drawTimer","_startTimer","_updateCanvas","_clearTimer","_tickPeriod","refs","canvas","_context","getContext","textAlign","textBaseline","font","push","setTimeout","_this","_tick","i","len","ref","results","timeout","length","clearTimeout","start","Date","now","duration","_handleComplete","clearRect","width","height","_drawBackground","beginPath","globalAlpha","arc","Math","PI","fill","decimals","percent",1,"fillStyle","fillText","toFixed","render","createElement","className"],"mappings":"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","file":"react-countdown-clock.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactCountdownClock\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"ReactCountdownClock\"] = factory(root[\"React\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactCountdownClock\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"ReactCountdownClock\"] = factory(root[\"React\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/build/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar React;\n\t\n\tReact = __webpack_require__(1);\n\t\n\tmodule.exports = React.createClass({\n\t  _seconds: 0,\n\t  _radius: null,\n\t  _fraction: null,\n\t  _content: null,\n\t  _canvas: null,\n\t  _timeoutIds: [],\n\t  displayName: 'ReactCountdownClock',\n\t  propTypes: {\n\t    seconds: React.PropTypes.number,\n\t    size: React.PropTypes.number,\n\t    color: React.PropTypes.string,\n\t    alpha: React.PropTypes.number,\n\t    onComplete: React.PropTypes.func\n\t  },\n\t  getDefaultProps: function() {\n\t    return {\n\t      size: 300,\n\t      color: '#000',\n\t      alpha: 1\n\t    };\n\t  },\n\t  componentWillReceiveProps: function(props) {\n\t    this._seconds = props.seconds;\n\t    return this._setupTimer();\n\t  },\n\t  componentDidMount: function() {\n\t    this._seconds = this.props.seconds;\n\t    return this._setupTimer();\n\t  },\n\t  componentWillUnmount: function() {\n\t    return this._cancelTimer();\n\t  },\n\t  _setupTimer: function() {\n\t    this._setScale();\n\t    this._setupCanvas();\n\t    this._drawTimer();\n\t    return this._startTimer();\n\t  },\n\t  _updateCanvas: function() {\n\t    this._clearTimer();\n\t    return this._drawTimer();\n\t  },\n\t  _setScale: function() {\n\t    this._radius = this.props.size / 2;\n\t    this._fraction = 2 / this._seconds;\n\t    return this._tickPeriod = this._seconds * 1.8;\n\t  },\n\t  _setupCanvas: function() {\n\t    this._canvas = this.refs.canvas;\n\t    this._context = this._canvas.getContext('2d');\n\t    this._context.textAlign = 'center';\n\t    this._context.textBaseline = 'middle';\n\t    return this._context.font = \"bold \" + (this._radius / 2) + \"px Arial\";\n\t  },\n\t  _startTimer: function() {\n\t    return this._timeoutIds.push(setTimeout(((function(_this) {\n\t      return function() {\n\t        return _this._tick();\n\t      };\n\t    })(this)), 200));\n\t  },\n\t  _cancelTimer: function() {\n\t    var i, len, ref, results, timeout;\n\t    ref = this._timeoutIds;\n\t    results = [];\n\t    for (i = 0, len = ref.length; i < len; i++) {\n\t      timeout = ref[i];\n\t      results.push(clearTimeout(timeout));\n\t    }\n\t    return results;\n\t  },\n\t  _tick: function() {\n\t    var start;\n\t    start = Date.now();\n\t    return this._timeoutIds.push(setTimeout(((function(_this) {\n\t      return function() {\n\t        var duration;\n\t        duration = (Date.now() - start) / 1000;\n\t        _this._seconds -= duration;\n\t        if (_this._seconds <= 0) {\n\t          _this._seconds = 0;\n\t          _this._handleComplete();\n\t          return _this._clearTimer();\n\t        } else {\n\t          _this._updateCanvas();\n\t          return _this._tick();\n\t        }\n\t      };\n\t    })(this)), this._tickPeriod));\n\t  },\n\t  _handleComplete: function() {\n\t    if (this.props.onComplete) {\n\t      return this.props.onComplete();\n\t    }\n\t  },\n\t  _clearTimer: function() {\n\t    this._context.clearRect(0, 0, this._canvas.width, this._canvas.height);\n\t    return this._drawBackground();\n\t  },\n\t  _drawBackground: function() {\n\t    this._context.beginPath();\n\t    this._context.globalAlpha = this.props.alpha / 3;\n\t    this._context.arc(this._radius, this._radius, this._radius, 0, Math.PI * 2, false);\n\t    this._context.arc(this._radius, this._radius, this._radius / 1.8, Math.PI * 2, 0, true);\n\t    return this._context.fill();\n\t  },\n\t  _drawTimer: function() {\n\t    var decimals, percent, ref;\n\t    percent = this._fraction * this._seconds + 1.5;\n\t    decimals = (ref = this._seconds <= 9.9) != null ? ref : {\n\t      1: 0\n\t    };\n\t    this._context.globalAlpha = this.props.alpha;\n\t    this._context.fillStyle = this.props.color;\n\t    this._context.fillText(this._seconds.toFixed(decimals), this._radius, this._radius);\n\t    this._context.beginPath();\n\t    this._context.arc(this._radius, this._radius, this._radius, Math.PI * 1.5, Math.PI * percent, false);\n\t    this._context.arc(this._radius, this._radius, this._radius / 1.8, Math.PI * percent, Math.PI * 1.5, true);\n\t    return this._context.fill();\n\t  },\n\t  render: function() {\n\t    return React.createElement(\"canvas\", {\n\t      \"ref\": 'canvas',\n\t      \"className\": \"react-countdown-clock\",\n\t      \"width\": this.props.size,\n\t      \"height\": this.props.size\n\t    });\n\t  }\n\t});\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** react-countdown-clock.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 9c7b59193c9ac29c782f\n **/","React  = require 'react'\n\nmodule.exports = React.createClass\n  _seconds: 0\n  _radius: null\n  _fraction: null\n  _content: null\n  _canvas: null\n  _timeoutIds: []\n\n  displayName: 'ReactCountdownClock'\n  \n  propTypes:\n    seconds: React.PropTypes.number\n    size: React.PropTypes.number\n    color: React.PropTypes.string\n    alpha: React.PropTypes.number\n    onComplete: React.PropTypes.func\n\n  getDefaultProps: ->\n    size: 300\n    color: '#000'\n    alpha: 1\n\n  componentWillReceiveProps: (props) ->\n    @_seconds = props.seconds\n    @_setupTimer()\n\n  componentDidMount: ->\n    @_seconds = @props.seconds\n    @_setupTimer()\n\n  componentWillUnmount: ->\n    @_cancelTimer()\n\n  _setupTimer: ->\n    @_setScale()\n    @_setupCanvas()\n    @_drawTimer()\n    @_startTimer()\n\n  _updateCanvas: ->\n    @_clearTimer()\n    @_drawTimer()\n\n  _setScale: ->\n    @_radius     = @props.size / 2\n    @_fraction   = 2 / @_seconds\n    @_tickPeriod = @_seconds * 1.8\n\n  _setupCanvas: ->\n    @_canvas  = @refs.canvas\n    @_context = @_canvas.getContext '2d'\n    @_context.textAlign = 'center'\n    @_context.textBaseline = 'middle'\n    @_context.font = \"bold #{@_radius/2}px Arial\"\n\n  _startTimer: ->\n    # Give it a moment to collect it's thoughts for smoother render\n    @_timeoutIds.push(setTimeout ( => @_tick() ), 200)\n\n  _cancelTimer: ->\n    for timeout in @_timeoutIds\n      clearTimeout timeout\n\n  _tick: ->\n    start = Date.now()\n    @_timeoutIds.push(setTimeout ( =>\n      duration = (Date.now() - start) / 1000\n      @_seconds -= duration\n\n      if @_seconds <= 0\n        @_seconds = 0\n        @_handleComplete()\n        @_clearTimer()\n      else\n        @_updateCanvas()\n        @_tick()\n    ), @_tickPeriod)\n\n  _handleComplete: ->\n    if @props.onComplete\n      @props.onComplete()\n\n  _clearTimer: ->\n    @_context.clearRect 0, 0, @_canvas.width, @_canvas.height\n    @_drawBackground()\n\n  _drawBackground: ->\n    @_context.beginPath()\n    @_context.globalAlpha = @props.alpha / 3\n    @_context.arc @_radius, @_radius, @_radius,     0,           Math.PI * 2, false\n    @_context.arc @_radius, @_radius, @_radius/1.8, Math.PI * 2, 0,           true\n    @_context.fill()\n\n  _drawTimer: ->\n    percent = @_fraction * @_seconds + 1.5\n    decimals = (@_seconds <= 9.9) ? 1 : 0\n    @_context.globalAlpha = @props.alpha\n    @_context.fillStyle = @props.color\n    @_context.fillText @_seconds.toFixed(decimals), @_radius, @_radius\n    @_context.beginPath()\n    @_context.arc @_radius, @_radius, @_radius,     Math.PI * 1.5,     Math.PI * percent, false\n    @_context.arc @_radius, @_radius, @_radius/1.8, Math.PI * percent, Math.PI * 1.5,     true\n    @_context.fill()\n\n  render: ->\n    React.createElement(\"canvas\", {\"ref\": 'canvas', \"className\": \"react-countdown-clock\", \"width\": (@props.size), \"height\": (@props.size)})\n\n\n\n/** WEBPACK FOOTER **\n ** ../~/cjsx-loader!./react-countdown-clock.coffee\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"React\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\"}\n ** module id = 1\n ** module chunks = 0\n **/"],"sourceRoot":""}